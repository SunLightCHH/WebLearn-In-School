<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bai tap 7</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    
    <script>
        $(document).ready(function(){
            $("#menuDK").click(function(){
                $("#myModal").modal()
            })

            function kiemtraTenDN(){
                let tenDN = $("#txtTenDN").val()
                let regexTenDN = /^[a-z]{4,}$/i 

                if(tenDN.trim()==""){
                    $("#errorTenDN").html('Ten dang nhap khong de trong')
                    return false
                }

                if(!regexTenDN.test(tenDN)){
                    $("#errorTenDN").html("Ten dang nhap phai co it nhat 4 ky tu chu cai")
                    return false
                }

                $("#errorTenDN").html("")
                return true

            }

            $("#txtTenDN").blur(kiemtraTenDN)

            function kiemtraMK(){
                let mk = $("#txtMK").val()
                if(mk.trim()==''){
                    $("#errorMK").html("Mat khau khong de trong")
                    return false
                }
                $("#errorMK").html("")
                return true
            }

            $("#txtMK").blur(kiemtraMK)

            function kiemtraNLMK(){
                let mk = $("#txtMK").val()
                let nlmk = $("#txtNLMK").val()
                if(mk != nlmk){
                    $("#errorNLMK").html("Mat khau nhap lai phai khop mat khau")
                    return false
                }

                $("#errorNLMK").html("")
                return true
            }

            $("#txtNLMK").blur(kiemtraNLMK)

            let i = 0
            $("#btnDangky").click(function(){

                if(!kiemtraTenDN() && !kiemtraMK() && !kiemtraNLMK())
                    return false

                let tenDN = $("#txtTenDN").val()
                
                let row = "<tr><td>"+(++i)+"</td><td>"+tenDN+"</td></tr>"

                $("tbody").append(row)

                $("#myModal").modal("hide")
            })

        })
    </script>

</head>
<body>
    <div class="container">
        <div class="row navbar navbar-expand-md bg-light">
            <a href="">
                <img src="../img/logo.jpg" alt="" class="navbar-brand" width="70px">
            </a>
            <ul class="nav navbar-nav">
                <li class="nav-item"><a class="nav-link" href="">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="">Product</a></li>
                <li class="nav-item"><a class="nav-link" href="">Service</a></li>
                <li class="dropdown mt-2"><a class="dropdown-toggle" data-toggle="dropdown">Member</a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-item"><a href="">Login</a></li>
                        <li class="dropdown-item" id="menuDK"><a>Registration</a></li>
                    </ul>
                </li>
                <li class="nav-item"><a class="nav-link" href="">About</a></li>
            </ul>
        </div>

        <div class="row">
            <table class="table table-hover table-bordered table-striped">
                <thead>
                    <tr>
                        <th>STT</th>
                        <th>Ten DN</th>
                    </tr>
                </thead>

                <tbody>
                   
                </tbody>
            </table>
        </div>
    </div>

    <!-- modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header"></div>
                <div class="modal-body">
                    <h1>Dang ky</h1>
                    <form action="">
                        <div class="row form-group">
                            <label class="col-md-4" for="txtTenDN">Ten dang nhap: </label>
                            <div class="col-md-8">
                                <input type="text" value="Hung" id="txtTenDN" required class="form-control">
                                <span id="errorTenDN" class="text-danger font-italic"></span>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-md-4" for="txtMK">Mat khau: </label>
                            <div class="col-md-8">
                                <input type="password" id="txtMK" value="abcd" required class="form-control">
                                <span id="errorMK" class="text-danger font-italic"></span>
                            </div>
                        </div>
                        <div class="row form-group">
                            <label class="col-md-4" for="txtNLMK">Nhap  lai Mat khau: </label>
                            <div class="col-md-8">
                                <input type="password" id="txtNLMK" value="abcd" required class="form-control">
                                <span id="errorNLMK" class="text-danger font-italic"></span>
                            </div>
                        </div>

                        <div class="row justify-content-center">
                            <button type="button" class="btn btn-primary" id="btnDangky">Dang ky</button>
                        </div>
                    </form>
                </div>
                <div class="modal-footer"></div>
            </div>
        </div>
    </div>
</body>
</html>